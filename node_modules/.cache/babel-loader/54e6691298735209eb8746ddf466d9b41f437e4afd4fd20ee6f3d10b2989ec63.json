{"ast":null,"code":"export default {\n  name: \"SlideUpDown\",\n  props: {\n    active: Boolean,\n    duration: {\n      type: Number,\n      default: 500\n    },\n    tag: {\n      type: String,\n      default: \"div\"\n    },\n    useHidden: {\n      type: Boolean,\n      default: !0\n    }\n  },\n  data: function () {\n    return {\n      style: {},\n      initial: !1,\n      hidden: !1\n    };\n  },\n  watch: {\n    active: function () {\n      this.layout();\n    }\n  },\n  render: function (t) {\n    return t(this.tag, {\n      style: this.style,\n      attrs: this.attrs,\n      ref: \"container\",\n      on: {\n        transitionend: this.onTransitionEnd\n      }\n    }, this.$slots.default);\n  },\n  mounted: function () {\n    this.layout(), this.initial = !0;\n  },\n  created: function () {\n    this.hidden = !this.active;\n  },\n  computed: {\n    el: function () {\n      return this.$refs.container;\n    },\n    attrs: function () {\n      var t = {\n        \"aria-hidden\": !this.active,\n        \"aria-expanded\": this.active\n      };\n      return this.useHidden && (t.hidden = this.hidden), t;\n    }\n  },\n  methods: {\n    layout: function () {\n      var t = this;\n      this.active ? (this.hidden = !1, this.$emit(\"open-start\"), this.initial && this.setHeight(\"0px\", function () {\n        return t.el.scrollHeight + \"px\";\n      })) : (this.$emit(\"close-start\"), this.setHeight(this.el.scrollHeight + \"px\", function () {\n        return \"0px\";\n      }));\n    },\n    asap: function (t) {\n      this.initial ? this.$nextTick(t) : t();\n    },\n    setHeight: function (t, i) {\n      var e = this;\n      this.style = {\n        height: t\n      }, this.asap(function () {\n        e.__ = e.el.scrollHeight, e.style = {\n          height: i(),\n          overflow: \"hidden\",\n          \"transition-property\": \"height\",\n          \"transition-duration\": e.duration + \"ms\"\n        };\n      });\n    },\n    onTransitionEnd: function (t) {\n      t.target === this.el && (this.active ? (this.style = {}, this.$emit(\"open-end\")) : (this.style = {\n        height: \"0\",\n        overflow: \"hidden\"\n      }, this.hidden = !0, this.$emit(\"close-end\")));\n    }\n  }\n};","map":{"version":3,"names":["name","props","active","Boolean","duration","type","Number","default","tag","String","useHidden","data","style","initial","hidden","watch","layout","render","t","attrs","ref","on","transitionend","onTransitionEnd","$slots","mounted","created","computed","el","$refs","container","methods","$emit","setHeight","scrollHeight","asap","$nextTick","i","e","height","__","overflow","target"],"sources":["../src/slide-up-down.js"],"sourcesContent":["export default {\n  name: 'SlideUpDown',\n\n  props: {\n    active: Boolean,\n    duration: {\n      type: Number,\n      default: 500,\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    useHidden: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data: () => ({\n    style: {},\n    initial: false,\n    hidden: false,\n  }),\n\n  watch: {\n    active() {\n      this.layout()\n    },\n  },\n\n  render(h) {\n    return h(\n      this.tag,\n      {\n        style: this.style,\n        attrs: this.attrs,\n        ref: 'container',\n        on: { transitionend: this.onTransitionEnd },\n      },\n      this.$slots.default\n    )\n  },\n\n  mounted() {\n    this.layout()\n    this.initial = true\n  },\n\n  created() {\n    this.hidden = !this.active\n  },\n\n  computed: {\n    el() {\n      return this.$refs.container\n    },\n\n    attrs() {\n      const attrs = {\n        'aria-hidden': !this.active,\n        'aria-expanded': this.active,\n      }\n\n      if (this.useHidden) {\n        attrs.hidden = this.hidden\n      }\n\n      return attrs\n    },\n  },\n\n  methods: {\n    layout() {\n      if (this.active) {\n        this.hidden = false\n        this.$emit('open-start')\n        if (this.initial) {\n          this.setHeight('0px', () => this.el.scrollHeight + 'px')\n        }\n      } else {\n        this.$emit('close-start')\n        this.setHeight(this.el.scrollHeight + 'px', () => '0px')\n      }\n    },\n\n    asap(callback) {\n      if (!this.initial) {\n        callback()\n      } else {\n        this.$nextTick(callback)\n      }\n    },\n\n    setHeight(temp, afterRelayout) {\n      this.style = { height: temp }\n\n      this.asap(() => {\n        // force relayout so the animation will run\n        this.__ = this.el.scrollHeight\n\n        this.style = {\n          height: afterRelayout(),\n          overflow: 'hidden',\n          'transition-property': 'height',\n          'transition-duration': this.duration + 'ms',\n        }\n      })\n    },\n\n    onTransitionEnd(event) {\n      // Don't do anything if the transition doesn't belong to the container\n      if (event.target !== this.el) return\n\n      if (this.active) {\n        this.style = {}\n        this.$emit('open-end')\n      } else {\n        this.style = {\n          height: '0',\n          overflow: 'hidden',\n        }\n        this.hidden = true\n        this.$emit('close-end')\n      }\n    },\n  },\n}\n"],"mappings":"eAAe;EACbA,IAAA,EAAM;EAENC,KAAA,EAAO;IACLC,MAAA,EAAQC,OAAA;IACRC,QAAA,EAAU;MACRC,IAAA,EAAMC,MAAA;MACNC,OAAA,EAAS;IAAA;IAEXC,GAAA,EAAK;MACHH,IAAA,EAAMI,MAAA;MACNF,OAAA,EAAS;IAAA;IAEXG,SAAA,EAAW;MACTL,IAAA,EAAMF,OAAA;MACNI,OAAA,GAAS;IAAA;EAAA;EAIbI,IAAA,WAAAA,CAAA;IAAA;MACEC,KAAA,EAAO;MACPC,OAAA,GAAS;MACTC,MAAA,GAAQ;IAAA;EAAA;EAGVC,KAAA,EAAO;IACLb,MAAA,WAAAA,CAAA;MAAA,KACOc,MAAA;IAAA;EAAA;EAITC,MAAA,WAAAA,CAAOC,CAAA;IAAA,OACEA,CAAA,CACL,KAAKV,GAAA,EACL;MACEI,KAAA,EAAO,KAAKA,KAAA;MACZO,KAAA,EAAO,KAAKA,KAAA;MACZC,GAAA,EAAK;MACLC,EAAA,EAAI;QAAEC,aAAA,EAAe,KAAKC;MAAA;IAAA,GAE5B,KAAKC,MAAA,CAAOjB,OAAA;EAAA;EAIhBkB,OAAA,WAAAA,CAAA;IAAA,KACOT,MAAA,SACAH,OAAA,IAAU;EAAA;EAGjBa,OAAA,WAAAA,CAAA;IAAA,KACOZ,MAAA,IAAU,KAAKZ,MAAA;EAAA;EAGtByB,QAAA,EAAU;IACRC,EAAA,WAAAA,CAAA;MAAA,OACS,KAAKC,KAAA,CAAMC,SAAA;IAAA;IAGpBX,KAAA,WAAAA,CAAA;MAAA,IACQD,CAAA,GAAQ;QAAA,gBACI,KAAKhB,MAAA;QAAA,iBACJ,KAAKA;MAAA;MAAA,OAGpB,KAAKQ,SAAA,KACPQ,CAAA,CAAMJ,MAAA,GAAS,KAAKA,MAAA,GAGfI,CAAA;IAAA;EAAA;EAIXa,OAAA,EAAS;IACPf,MAAA,WAAAA,CAAA;MAAA,IAAAE,CAAA;MACM,KAAKhB,MAAA,SACFY,MAAA,IAAS,QACTkB,KAAA,CAAM,eACP,KAAKnB,OAAA,SACFoB,SAAA,CAAU;QAAA,OAAaf,CAAA,CAAKU,EAAA,CAAGM,YAAA,GAAe;MAAA,YAGhDF,KAAA,CAAM,qBACNC,SAAA,CAAU,KAAKL,EAAA,CAAGM,YAAA,GAAe;QAAA,OAAY;MAAA;IAAA;IAItDC,IAAA,WAAAA,CAAKjB,CAAA;MACE,KAAKL,OAAA,QAGHuB,SAAA,CAAUlB,CAAA,IAFfA,CAAA;IAAA;IAMJe,SAAA,WAAAA,CAAUf,CAAA,EAAMmB,CAAA;MAAA,IAAAC,CAAA;MAAA,KACT1B,KAAA,GAAQ;QAAE2B,MAAA,EAAQrB;MAAA,QAElBiB,IAAA;QAAAG,CAAA,CAEEE,EAAA,GAAKF,CAAA,CAAKV,EAAA,CAAGM,YAAA,EAAAI,CAAA,CAEb1B,KAAA,GAAQ;UACX2B,MAAA,EAAQF,CAAA;UACRI,QAAA,EAAU;UAAA,uBACa;UAAA,uBACAH,CAAA,CAAKlC,QAAA,GAAW;QAAA;MAAA;IAAA;IAK7CmB,eAAA,WAAAA,CAAgBL,CAAA;MAEVA,CAAA,CAAMwB,MAAA,KAAW,KAAKd,EAAA,KAEtB,KAAK1B,MAAA,SACFU,KAAA,GAAQ,SACRoB,KAAA,CAAM,qBAENpB,KAAA,GAAQ;QACX2B,MAAA,EAAQ;QACRE,QAAA,EAAU;MAAA,QAEP3B,MAAA,IAAS,QACTkB,KAAA,CAAM;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}